<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>Documentation | RecordWright</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://3wweiweiwu.github.io/bluestone-site/docs/index.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://3wweiweiwu.github.io/bluestone-site/docs/">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  
<link rel="stylesheet" href="/css/navy.css">

  <!-- endbuild -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-lato@0.0.75/index.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/atom.xml" title="RecordWright" type="application/atom+xml">
  <!-- Open Graph -->
  <meta name="description" content="Welcome to the Hexo documentation. If you encounter any problems when using Hexo, have a look at the  troubleshooting guide, raise an issue on GitHub or start a topic on the Google Group. How to Prepa">
<meta property="og:type" content="website">
<meta property="og:title" content="Documentation">
<meta property="og:url" content="https://3wweiweiwu.github.io/bluestone-site/docs/">
<meta property="og:site_name" content="RecordWright">
<meta property="og:description" content="Welcome to the Hexo documentation. If you encounter any problems when using Hexo, have a look at the  troubleshooting guide, raise an issue on GitHub or start a topic on the Google Group. How to Prepa">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-07-06T03:46:25.321Z">
<meta property="article:modified_time" content="2023-07-06T03:46:25.321Z">
<meta property="article:author" content="Bluestone">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="bluestonejs">
<meta property="fb:admins" content="100000247608790">
  <!-- Google Analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48498357-3', 'auto');
  ga('send', 'pageview');
</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-6482217598104186",
          enable_page_level_ads: true
     });
  </script>
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/" id="logo">Bluestone</a>
    </h1>
    <nav id="main-nav">
      <a href="/docs/" class="main-nav-link">Docs</a><a href="/news/" class="main-nav-link">News</a><a href="/about/" class="main-nav-link">About</a>
      <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/3wweiweiwu/bluestone" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <div id="lang-select-wrap">
      <label id="lang-select-label"><i class="fa fa-globe"></i><span>English</span></label>
      <select id="lang-select" data-canonical="docs/index.html">
        
          <option value="en" selected>English</option>
        
      </select>
    </div>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">Documentation</h1>
                <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/hexojs/site/edit/master/source/docs/index.md" class="article-edit-link" title="Improve this doc"><i class="fa fa-pencil"></i></a>
              </header>
              <div class="article-content" itemprop="articleBody">
                <p>Welcome to the Hexo documentation. If you encounter any problems when using Hexo, have a look at the  <a href="troubleshooting.html">troubleshooting guide</a>, raise an issue on <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/hexojs/hexo/issues">GitHub</a> or start a topic on the <a target="_blank" rel="noopener external nofollow noreferrer" href="https://groups.google.com/group/hexo">Google Group</a>.</p>
<h1 id="How-to-Prepare-Environment-For-Bluestone" class="article-heading"><a href="#How-to-Prepare-Environment-For-Bluestone" class="headerlink" title="How to Prepare Environment For Bluestone"></a>How to Prepare Environment For Bluestone<a class="article-anchor" href="#How-to-Prepare-Environment-For-Bluestone" aria-hidden="true"></a></h1><ul>
<li>Install Nodejs LTS from website: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://nodejs.org/en/">https://nodejs.org/en/</a></li>
<li>Install GitHub from from: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://git-scm.com/downloads">https://git-scm.com/downloads</a></li>
<li>Install Bluestone from cmd command prompt: <code>npm install bluestone@latest -g</code></li>
<li>Launch cmd as administrator and run following command <code>bluestone install</code></li>
<li>Close administrator cmd</li>
<li>Clone Sample Project from Git: <code>git clone https://github.com/3wweiweiwu/sample-bluestone-project.git</code></li>
<li>Install prerequisite for automation code. Go to sample project in command line prompt and install prerequisite: <code>npm install</code></li>
<li>Launch bluestone server by running command in command prompt: <code>bluestone start .</code></li>
<li>You are ready to go!</li>
</ul>
<h1 id="What-is-Typical-Process-of-recording-workflow" class="article-heading"><a href="#What-is-Typical-Process-of-recording-workflow" class="headerlink" title="What is Typical Process of recording workflow"></a>What is Typical Process of recording workflow<a class="article-anchor" href="#What-is-Typical-Process-of-recording-workflow" aria-hidden="true"></a></h1><h2 id="Overall-Step" class="article-heading"><a href="#Overall-Step" class="headerlink" title="Overall Step"></a>Overall Step<a class="article-anchor" href="#Overall-Step" aria-hidden="true"></a></h2><p>Create UI automation is easy, here is general breakdown</p>
<ul>
<li>Launch Bluestone</li>
<li>Record Steps and Add Validation</li>
<li>Correlate Locator when recording is done</li>
<li>Test Run your script</li>
<li>Output Script</li>
</ul>
<h2 id="Launch-bluestone" class="article-heading"><a href="#Launch-bluestone" class="headerlink" title="Launch bluestone."></a>Launch bluestone.<a class="article-anchor" href="#Launch-bluestone" aria-hidden="true"></a></h2><ol>
<li><p>Launch Bluestone Service</p>
<ol>
<li>In a command prompt, run command: <code>bluestone start &quot;path to your automation project&quot;</code></li>
</ol>
</li>
<li><p>Start recording</p>
<ol>
<li>In a seperate command prompt, run command <code>bluestone record &quot;your url&quot;</code></li>
</ol>
</li>
<li><p>Status Check </p>
<ol>
<li>if there is purple rectangle when you hover your mouse over different elements. You may refresh web browser. Bluestone shall load automatically.</li>
</ol>
</li>
</ol>
<h2 id="Record-Your-Step-and-add-validation" class="article-heading"><a href="#Record-Your-Step-and-add-validation" class="headerlink" title="Record Your Step and add validation"></a>Record Your Step and add validation<a class="article-anchor" href="#Record-Your-Step-and-add-validation" aria-hidden="true"></a></h2><ol>
<li><p>Run your workflow. </p>
<ol>
<li>For complicated web page, I would recommend to do so at rate of 1 operation&#x2F;second</li>
</ol>
</li>
<li><p>Add a validation (Pause Record)</p>
<ol>
<li>Press Alt+q combo key to call bluestone tab</li>
<li>In spot (1), select your intention. In this case, select “verify”</li>
<li>In spot (2), select specific step you would like to take. In this case, select “element exists”</li>
<li>In spot (3), type in waiting time, please make sure it is greater than 1s</li>
<li>In spot (4), run step to verify you work</li>
<li>If everything looks good, click spot(5) to add this to the workflow steps</li>
<li>If you want to resume your recording, click spot (6)<br>\</li>
</ol>
</li>
<li><p>Correlate Locator when recording is done</p>
<ol>
<li><p>Press Alt+q combo key to call bluestone tab</p>
</li>
<li><p>Go to workflow panel. In the panel, choose workflow (spot 1)</p>
</li>
<li><p>Specify test suite name and test case name. </p>
<ol>
<li>Please note that, testcase name will be used as file name as well. PLease make sure it does not contain illegal characters (spot 2 and 3)</li>
<li></li>
</ol>
</li>
<li><p>Correlate Locator by clicking “Resolve Pending Issue” button (spot 4)</p>
</li>
<li><p>You expect to see message in the note bar(spot 5) about your action item. Most likely, you will be asked to correlate locator</p>
</li>
<li><p>Go to particular step and click “Edit Locator” Button </p>
</li>
<li><p>In the Locator Definer view, enter locator name (spot 1) and locator (spot 2). bluestone support both selector and xpath. Otherwise, you can click “Revert” button to use default locator. You can click on “Confirm” button once you are done</p>
<ol>
<li>On the right side, you expect to see the view where this particular step is taken. Html is incorrect, you can use Previous html or Next html button to navigate through </li>
<li>If you want to override existing locator with what you provide, you can use “force override” button</li>
</ol>
</li>
<li><p>Repeat 4,5,6,7 until you correlate all locators. You expect to see text like</p>
<ol>
<li>Please note that Bluestone will automatically correlate existing locator in its library</li>
</ol>
</li>
</ol>
</li>
<li><p>At this point, you can click on “Run Workflow Button” to test run your script.</p>
</li>
<li><p>Output script. Click “Create Testcase Button” to output your script</p>
</li>
</ol>
<h1 id="How-to-Run-and-debug-Puppeter-Scripts" class="article-heading"><a href="#How-to-Run-and-debug-Puppeter-Scripts" class="headerlink" title="How to Run and debug Puppeter Scripts"></a>How to Run and debug Puppeter Scripts<a class="article-anchor" href="#How-to-Run-and-debug-Puppeter-Scripts" aria-hidden="true"></a></h1><h2 id="Run-all-script-via-command-line" class="article-heading"><a href="#Run-all-script-via-command-line" class="headerlink" title="Run all script via command line"></a>Run all script via command line<a class="article-anchor" href="#Run-all-script-via-command-line" aria-hidden="true"></a></h2><ol>
<li>Launch command prompt</li>
<li>go to automation project root folder</li>
<li>Run following command: <code>npm start</code></li>
</ol>
<h2 id="Run-particular-testcase-via-commnd-line" class="article-heading"><a href="#Run-particular-testcase-via-commnd-line" class="headerlink" title="Run particular testcase via commnd line"></a>Run particular testcase via commnd line<a class="article-anchor" href="#Run-particular-testcase-via-commnd-line" aria-hidden="true"></a></h2><ol>
<li>Launch command prompt</li>
<li>go to automation project root folder</li>
<li>Run following command: <code>node ./node_modules/mocha/bin/_mocha ./script/*.js --exit true --grep &quot;^test1 test2$&quot;  --timeout 60000s</code><ol>
<li>–timeout the maximum timeout for each test case execution</li>
<li>^test1 test2$, the test suite and test case name. It supports regular expression</li>
</ol>
</li>
</ol>
<h2 id="Configure-Runtime-in-vscode" class="article-heading"><a href="#Configure-Runtime-in-vscode" class="headerlink" title="Configure Runtime in vscode"></a>Configure Runtime in vscode<a class="article-anchor" href="#Configure-Runtime-in-vscode" aria-hidden="true"></a></h2><ol>
<li><p>Install Vscode Extension: “Mocha sidebar” </p>
</li>
<li><p>Go to setting menu </p>
</li>
<li><p>In setting, search keyword “mocha”</p>
</li>
<li><p>Go to Mocha&gt;Files: Glob.</p>
</li>
<li><p>Change pattern to “test&#x2F;**&#x2F;*.js”</p>
</li>
<li><p>Go to testing tab in vscode and click refresh key, it should find your script autoamtically</p>
</li>
<li><p>Go to any test file, you can debug the testcase</p>
</li>
<li><p>Depends on the length of your test, you may need to update timeout</p>
</li>
</ol>
<h1 id="Locator-Function-Introduction" class="article-heading"><a href="#Locator-Function-Introduction" class="headerlink" title="Locator Function Introduction"></a>Locator Function Introduction<a class="article-anchor" href="#Locator-Function-Introduction" aria-hidden="true"></a></h1><p>If you have worked with Bluestone, you will be familiar with the button “Revert Selector”, this button helps us to automatically generate the locator for a Web Element that we selected previously<br> </p>
<p>The functionality of “Revert Selector” button is provided by <em>“bluestone-selector-gen.js”</em> class and this class is made up for <em>“Locator Functions”</em><br> </p>
<p>Each Locator Function is created for a specific web-element, the objective is identifying some HTML elements in a specific structure that appear only in this web-element and then with these same HTML elements Bluestone is going to create the locator </p>
<h1 id="Structure-of-bluestone-selector-gen-js" class="article-heading"><a href="#Structure-of-bluestone-selector-gen-js" class="headerlink" title="Structure of bluestone-selector-gen.js"></a>Structure of bluestone-selector-gen.js<a class="article-anchor" href="#Structure-of-bluestone-selector-gen-js" aria-hidden="true"></a></h1><p>The main function is <em>“getLocator”</em> this function call to the rest of the locators functions, in the first line of <em>“getLocator”</em> you can see the const <em>“functionList”</em> in this list are the locators function, once the <em>“getLocator”</em> function is called Bluestone is going to execute the first locator function in the list, if this first locator function doesn’t generate a locator that we can use Bluestone is going to call the next function, if any locator function works the <em>“getLocator”</em> is going to return an object with null elements </p>
<br>  



 
 

<h1 id="Creating-a-Locator-Function" class="article-heading"><a href="#Creating-a-Locator-Function" class="headerlink" title="Creating a Locator Function"></a>Creating a Locator Function<a class="article-anchor" href="#Creating-a-Locator-Function" aria-hidden="true"></a></h1><p>First, we need to create manually a Locator, please see Create-locator-generator manual, this locator manually created is going to give us a reference of what we want to generate<br> </p>
<p>All the locator functions have one and only one parameter and this parameter represent the web-element which we are working (the web-element that we selected when we press ctrl+q in the Bluestone UI), in this example we are calling the parameter like <em>element</em><br> </p>
<p>Now you must ask if the web-element has the specific properties that identify it as the element for which the function was created<br> </p>
<p>For example, you can ask if the element has a specific tag<br>  </p>
<p>Also, you can ask if the element has a specific attribute and if this attribute is equal to a value or a set of values<br>  </p>
<p>Please see the previous two examples and analyze what happened when the element does not have the tag or the attribute that we are searching for<br><br> </p>
<p>How you can see when the tag or the attribute do not match, we return the function <em>createOutput</em> without arguments, when the functions return that the code go to the next locator function<br> </p>
<h2 id="Use-parentElement-method" class="article-heading"><a href="#Use-parentElement-method" class="headerlink" title="Use parentElement method"></a>Use parentElement method<a class="article-anchor" href="#Use-parentElement-method" aria-hidden="true"></a></h2><p>Sometimes we also need to know the properties of parent’s element for that we have the method <em>parentElement</em><br>  </p>
<p>Its syntaxis is <br>  </p>
<p><em>parent &#x3D; element.parentElement</em><br>  </p>
<p>The result of this is that the variable <em>parent</em> is going to be the web-element which child is the <em>element</em> </p>
<h2 id="Use-getParentNode-function" class="article-heading"><a href="#Use-getParentNode-function" class="headerlink" title="Use getParentNode function"></a>Use getParentNode function<a class="article-anchor" href="#Use-getParentNode-function" aria-hidden="true"></a></h2><p>In some cases, we need find a specific parent of an element, for that we have the <em>getParentNode</em>  </p>
<p>The following example can read like “Give me the first element’s parent which has tag like <strong>TR</strong>, if there is not any parent with that specification (if the result of *getParentNode is <strong>null</strong>) return the function <em>createOutput</em> without arguments” <br> </p>
<h2 id="Use-childNodes-method" class="article-heading"><a href="#Use-childNodes-method" class="headerlink" title="Use childNodes method"></a>Use childNodes method<a class="article-anchor" href="#Use-childNodes-method" aria-hidden="true"></a></h2><p>The childNodes method is the opposite of parentElement method, its function is getting all the element’s sons<br> </p>
<p>Its sintaxis is <br>  </p>
<p><em>let childs &#x3D; element.childNodes</em><br> </p>
<p>The result of this is that the variable <em>childs</em> is going to be an array, and each element of the array will be a web-element which parent is the <em>element</em><br> </p>
<h2 id="Use-getElementByXpath-function" class="article-heading"><a href="#Use-getElementByXpath-function" class="headerlink" title="Use getElementByXpath function"></a>Use getElementByXpath function<a class="article-anchor" href="#Use-getElementByXpath-function" aria-hidden="true"></a></h2><p>Ok, now we know how to get all the elements that we need to create our locator but how do you know that the locator works and not only that, if works, how can we know if the locator only works for our specific web-element and no other. For this we have the <em>getElementByXpath</em> function <br> </p>
<p>Its sintaxis is <br>  </p>
<p><em>let elements &#x3D; getElementByXpath(locator)</em><br> </p>
<p>The result of this is that the variable <em>elements</em> is going to be an array, and each element of the array will be a web-element that match with our <em>locator</em><br>, once we have the result of the getElementByXpath function only need to ask how many elements have the array, if number of elements are 0 then the locator does not work, if number of elements are more than 1 then the locator works for several web-elements, therefore the locator only works if the length of the array is equal to 1<br> </p>
<p>A final locator function looks like that<br> </p>
<p>Please note that in the final line we return the <em>createOutput</em> with element and locator like parameters </p>
<h1 id="What-is-customized-function-and-why-do-we-need-that" class="article-heading"><a href="#What-is-customized-function-and-why-do-we-need-that" class="headerlink" title="What is customized function and why do we need that"></a>What is customized function and why do we need that<a class="article-anchor" href="#What-is-customized-function-and-why-do-we-need-that" aria-hidden="true"></a></h1><p>In several cases we need to prepare the environment before of reproduce a test cases, for example, assume that in the test case we need to create an element so we use Bluestone to automate the creation of this element, if we don’t prepare the environment each time that the script run is going to try to create the same element with the same name and properties this could be a problem because in the most cases the site don’t allow have two elements with the same name, so before of create a new element we need to delete the old one<br>  </p>
<p>To help the final user to prepare the environment we can create a customized function, so before of start to recording the user will be able to call the function to delete the element with the same name and this function will be recorded already in the script  </p>
<h1 id="How-to-add-customized-function" class="article-heading"><a href="#How-to-add-customized-function" class="headerlink" title="How to add customized function"></a>How to add customized function<a class="article-anchor" href="#How-to-add-customized-function" aria-hidden="true"></a></h1><p>To create a new customized function, we need to open a new terminal initialize bluestone with the command:<br> </p>
<p><em><strong>bluestone start .\</strong></em><br> </p>
<p>In another terminal we run the command: <br>  </p>
<p>bluestone function .  <em><strong>FunctionName</strong></em><br>  </p>
<blockquote>
<p>Replacing <em><strong>FuntionName</strong></em> for the name of the function<br> </p>
</blockquote>
<p>Bluestone should automatically add the line <em>FunctionName: new FunctionName.FunctionName()</em> to the <em>bluestone-func.js</em> file and create the <em>FunctionName.js</em> file, this file is going to be the template where we are going to create our function<br> </p>
<p>We can say taht the <em>FunctionName.js</em> file is divided into three parts the constructor, the async function and the API functions </p>
<h2 id="Constructor" class="article-heading"><a href="#Constructor" class="headerlink" title="Constructor"></a>Constructor<a class="article-anchor" href="#Constructor" aria-hidden="true"></a></h2><p>In the constructor we can specify the locators that indicate to Bluestone when can display the customized function, for this we have to specify all the relevant locators in its respective area<br> </p>
<h2 id="Async-Function" class="article-heading"><a href="#Async-Function" class="headerlink" title="Async Function"></a>Async Function<a class="article-anchor" href="#Async-Function" aria-hidden="true"></a></h2><p>To get a better understanding we are going to call this function as <strong>Main Async Function</strong>, in this area we put the code that we want Bluestone execute when we call the function also we specify the parameters that Bluestone ask to the final user, for example, in the previous case where we need to clean the work space deleting some elements Bluestone use API requests and since all the sites have some level of security we need to request the user that indicate the <strong>user name</strong> and <strong>password</strong> for access to the site, also since the <strong>URL</strong> could change the time in time we will need the basic URL of the requests, probably also need to indicate the <strong>element’s name</strong> that bluestone is going to delete<br>  </p>
<p>When we create the template of the function the Async Function looks like this<br> </p>
<p>If we must implement the previous example, we need to change the default variables for the variables that we need (URL, username, password, and element’s name), please note that the change is in two parts (See the elements marked in yellow), after of the declaration of variables we put a little description that the user can read (See the elements marked in pink) </p>
<br> 

<p>Also, in the top of all configurations we put a name of the function that the user can recognize (See the elements marked in red)<br> </p>
<p>With the previous configuration the user should see this in th UI:<br>  </p>
<blockquote>
<p>How you can see all that you define in the code is going to be reflected in the UI<br></p>
</blockquote>
<h2 id="Sample-Customized-Function-to-Prepare-Environment-via-RestApi" class="article-heading"><a href="#Sample-Customized-Function-to-Prepare-Environment-via-RestApi" class="headerlink" title="Sample Customized Function to Prepare Environment via RestApi"></a>Sample Customized Function to Prepare Environment via RestApi<a class="article-anchor" href="#Sample-Customized-Function-to-Prepare-Environment-via-RestApi" aria-hidden="true"></a></h2><p>The next step is creating the instructions that we want Bluestone to do when the function is called<br> </p>
<p>For “best practice” we are going to create <strong>API Functions</strong> outside of our <strong>Customized Function</strong> and those functions are going to be called in the <strong>Main Async Function</strong>, is very important that we call <strong>API Functions</strong> inside of the <strong>try</strong> of the <strong>Main Async Function</strong>, something like this:<br> </p>
<p>How you can see, we called two <strong>API Functions</strong> “getAllCatchReports” and “deleteCatchReportForId”, we called <strong>API Functions</strong> because they are created using the API requests. The first is called to get some ids and the other is used to delete the elements that correspond to those ids<br> </p>
<h3 id="Creating-an-API-Function-using-requests" class="article-heading"><a href="#Creating-an-API-Function-using-requests" class="headerlink" title="Creating an API Function using requests"></a>Creating an API Function using requests<a class="article-anchor" href="#Creating-an-API-Function-using-requests" aria-hidden="true"></a></h3><p>Ok, now you know how the <strong>Customized Function</strong> is structured but…. What is inside of the <strong>API Functions</strong>?<br> </p>
<p>Before answering that we need to understand some basic concepts </p>
<ol>
<li>API Calls or Requests<br></li>
</ol>
<p>Is the process of a <strong>client</strong> application submitting a request to an <strong>API</strong> and that <strong>API</strong> retrieving the requested data from the external server or program and delivering it back to the <strong>client</strong><br> </p>
<p>Each time that the <strong>client</strong> require get information of the <strong>API</strong> or need that the <strong>API</strong> modify something use an <strong>API Call</strong> and when the <strong>API</strong> receive and <strong>API Call</strong> the <strong>API</strong> is going to send a <strong>Request</strong> to the <strong>client</strong> </p>
<ol start="2">
<li>Request Method<br></li>
</ol>
<p>A method indicates what is the basic purpose of the request. There are 4 types of methods: GET, POST, PUT and DELETE, in this moment we do not need to understand what the difference between them is, we only need know that each request has one  </p>
<ol start="3">
<li>URL’s request<br></li>
</ol>
<p>Is the most essential element in the request, the URL’s request indicates to the <strong>API</strong> which are the actions needed to execute the request     </p>
<ol start="4">
<li>Header<br></li>
</ol>
<p>In the header we can see a lot of information but the most important is the <strong>URL’s request</strong> and the <strong>method</strong> </p>
<ol start="5">
<li>Payload<br></li>
</ol>
<p>It is the crucial information that the <strong>client</strong> submits to the <strong>API</strong> when the <strong>client</strong> are making an API request, normally is sending with methods <strong>POST</strong> or <strong>PUT</strong> </p>
<ol start="6">
<li>API key or access token<br></li>
</ol>
<p>The <strong>API</strong> needs to know if the request is being sent to an authorized user<br> </p>
<p>There are 2 ways to do it the first is sending the credentials (user, password and sometimes domain) and the second is with the <strong>access token</strong>, to get the <strong>access token</strong> we need to send a request with the credentials and then the <strong>API</strong> should respond us with an <strong>access token</strong>, this <strong>access token</strong> is going to be send it with the request<br> </p>
<ol start="7">
<li>Response<br></li>
</ol>
<p>When the <strong>API</strong> receives a request, it is going to send a response, the response is sent in JASON format and has information of success or failure and in some cases also has information that the <strong>client</strong> needs to show the information </p>
<h4 id="Obtain-the-request-needed" class="article-heading"><a href="#Obtain-the-request-needed" class="headerlink" title="Obtain the request needed"></a>Obtain the request needed<a class="article-anchor" href="#Obtain-the-request-needed" aria-hidden="true"></a></h4><p>To get the requests that the <strong>client</strong> sends to the <strong>API</strong> please follow the next steps<br> </p>
<ol>
<li><p>Open a web browser in incognito view </p>
</li>
<li><p>In any part of the window press right click and select “Inspect” </p>
</li>
<li><p>Go to “Network” and select the checkboxes “Preserve log” and “Disable cache” the window should look like this<br> </p>
</li>
<li><p>Now all the requests that the <strong>client</strong> send its going to be recording after some actions in the web server the windows is going to looks like this<br> </p>
</li>
<li><p>Select any of the requests and the web browser is going to display the information of this request<br> </p>
</li>
<li><p>There is not an easy way to identify the request that we need but you can see the following suggestions</p>
</li>
</ol>
<ul>
<li><p>Before of make the action in the web browser you can clear the recording, if you do that when you make the action the only request that is going to display are those which are relates with the actions, for example supposed that when you press a button the web browser display a list of elements so before of press the button you can clear the recording and then press the button, so when you look for the request which response has the information that you need is going to be easier </p>
</li>
<li><p>When you look for a request that asks for information start with the request which method is a GET or POST </p>
</li>
<li><p>It is difficult to read a response because it is in JASON format so you can use a JSON Viewer like this <em><a target="_blank" rel="noopener external nofollow noreferrer" href="http://jsonviewer.stack.hu/">tool</a></em>, we can copy&#x2F;paste the response in the text area and the tool will show us the information in an uncomplicated way to understand, plese see the images below<br> </p>
</li>
<li><p>If we need a request to delete elements, the request has the method DELETE</p>
</li>
</ul>
<h4 id="Identify-the-access" class="article-heading"><a href="#Identify-the-access" class="headerlink" title="Identify the access"></a>Identify the access<a class="article-anchor" href="#Identify-the-access" aria-hidden="true"></a></h4><p>As we saw earlier there are two ways to demonstrate to <strong>sever</strong> that we are authorized people<br> </p>
<p>The first way with <strong>Access Token</strong>, when the request has an Authorization section like the image below means that the request uses an <strong>Access Token</strong> otherwise the request needs to send the <strong>user’s name</strong> and <strong>password</strong><br> </p>
<h4 id="Create-our-API-Function" class="article-heading"><a href="#Create-our-API-Function" class="headerlink" title="Create our API Function"></a>Create our API Function<a class="article-anchor" href="#Create-our-API-Function" aria-hidden="true"></a></h4><h5 id="Create-our-API-Function-using-the-Token" class="article-heading"><a href="#Create-our-API-Function-using-the-Token" class="headerlink" title="Create our API Function using the Token"></a>Create our API Function using the Token<a class="article-anchor" href="#Create-our-API-Function-using-the-Token" aria-hidden="true"></a></h5><ol>
<li>We need to create a function that use the request to access to the site, for example when we want to access a site and the site ask us a user and password the request to access is going to be sending when we press the button of login, we can identify this request because its response should include the <strong>Access Token</strong> like this:<br></li>
</ol>
<blockquote>
<p>In this case we do not need use the JASON Viewer tool because in FireFox the response is already converted in a straightforward way to see </p>
</blockquote>
<ol start="2">
<li><p>Once we identify the request of Login, we can extract the URL and create the authenticate function. Please note that the user, password, and part of the URL are sending like parameters because the final user is going to indicated <br> </p>
</li>
<li><p>Now we are going to create our API Function taking the URL’s request, please remember that part of the URL is indicated for the final user, so we are going to get like a parameter </p>
</li>
<li><p>After creating the URL’s request we are going to get the <strong>Access Token</strong> with our Authenticate Function </p>
</li>
<li><p>With the URL’s request and the <strong>Access Token</strong> we are going to create the variable <strong>res</strong> and store the response of the request that uses the URL and the <strong>Access Token</strong> </p>
</li>
<li><p>Finally we are going to manipulate the information of the response to get the element&#x2F;s that we need<br></p>
</li>
</ol>
<h5 id="Create-our-API-Function-using-API-Access" class="article-heading"><a href="#Create-our-API-Function-using-API-Access" class="headerlink" title="Create our API Function using API Access"></a>Create our API Function using API Access<a class="article-anchor" href="#Create-our-API-Function-using-API-Access" aria-hidden="true"></a></h5><ol>
<li><p>Now we are going to create our API Function taking the URL’s request, please remember that part of the URL is indicated for the final user, so we are going to get like a parameter </p>
</li>
<li><p>Specify the method </p>
</li>
<li><p>Specify the data, in the data we are going to indicate the information of the Payload </p>
</li>
<li><p>We include in the beginning of function the variable credentials with the user and password, this is because the request of the example does not use an <strong>Access Token</strong>   </p>
</li>
<li><p>Finally we are going to manipulate the information of the response to get the element&#x2F;s that we need<br></p>
</li>
</ol>
<h1 id="How-to-update-customized-function" class="article-heading"><a href="#How-to-update-customized-function" class="headerlink" title="How to update customized function"></a>How to update customized function<a class="article-anchor" href="#How-to-update-customized-function" aria-hidden="true"></a></h1><p>Sometimes there is a product change and with this the request taht we use could also change<br> </p>
<p>In that case first we need to identify where the problem is<br> </p>
<p>To identify it we can put Debugger Points in the <strong>API Functions</strong> specifically in the catch areas and then run manually a test case which is calling the <strong>Customized Function</strong>, with this we can know in which API Function is the problem<br> </p>
<p>Once we identify which is the API Function that we need to fix we are going to record again the request that the site uses to make the action and we will compare, if there is something different, we only need no replace it </p>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2023-07-06T03:46:25.321Z" itemprop="dateModified">Last updated: 2023-07-05</time>
                
              </footer>
              
<section id="comments">
  <div id="disqus_thread"></div>
</section>
<script>
  var disqus_shortname = 'hexojs';
  var disqus_url = 'https://3wweiweiwu.github.io/bluestone-site/docs/index.html';
  var disqus_title = "Documentation";
  var disqus_config = function(){
    this.language = 'en';
  };
  (function(){
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'https://go.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#How-to-Prepare-Environment-For-Bluestone"><span class="toc-text">How to Prepare Environment For Bluestone</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#What-is-Typical-Process-of-recording-workflow"><span class="toc-text">What is Typical Process of recording workflow</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Overall-Step"><span class="toc-text">Overall Step</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Launch-bluestone"><span class="toc-text">Launch bluestone.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Record-Your-Step-and-add-validation"><span class="toc-text">Record Your Step and add validation</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#How-to-Run-and-debug-Puppeter-Scripts"><span class="toc-text">How to Run and debug Puppeter Scripts</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Run-all-script-via-command-line"><span class="toc-text">Run all script via command line</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Run-particular-testcase-via-commnd-line"><span class="toc-text">Run particular testcase via commnd line</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Configure-Runtime-in-vscode"><span class="toc-text">Configure Runtime in vscode</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Locator-Function-Introduction"><span class="toc-text">Locator Function Introduction</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Structure-of-bluestone-selector-gen-js"><span class="toc-text">Structure of bluestone-selector-gen.js</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Creating-a-Locator-Function"><span class="toc-text">Creating a Locator Function</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Use-parentElement-method"><span class="toc-text">Use parentElement method</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Use-getParentNode-function"><span class="toc-text">Use getParentNode function</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Use-childNodes-method"><span class="toc-text">Use childNodes method</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Use-getElementByXpath-function"><span class="toc-text">Use getElementByXpath function</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#What-is-customized-function-and-why-do-we-need-that"><span class="toc-text">What is customized function and why do we need that</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#How-to-add-customized-function"><span class="toc-text">How to add customized function</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Constructor"><span class="toc-text">Constructor</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Async-Function"><span class="toc-text">Async Function</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sample-Customized-Function-to-Prepare-Environment-via-RestApi"><span class="toc-text">Sample Customized Function to Prepare Environment via RestApi</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-an-API-Function-using-requests"><span class="toc-text">Creating an API Function using requests</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Obtain-the-request-needed"><span class="toc-text">Obtain the request needed</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Identify-the-access"><span class="toc-text">Identify the access</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Create-our-API-Function"><span class="toc-text">Create our API Function</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Create-our-API-Function-using-the-Token"><span class="toc-text">Create our API Function using the Token</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Create-our-API-Function-using-API-Access"><span class="toc-text">Create our API Function using API Access</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#How-to-update-customized-function"><span class="toc-text">How to update customized function</span></a></li></ol>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner">
    <strong class="sidebar-title">Getting Started</strong><a href="index.html" class="sidebar-link current">Overview</a>
  </div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2023 <a href="https://github.com/hexojs/hexo/graphs/contributors" rel="external nofollow noreferrer" target="_blank">Bluestone</a><br>
      Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>.
    </div>
    <div id="footer-links">
      <a href="https://twitter.com/bluestonejs" rel="external nofollow noreferrer" class="footer-link" target="_blank"><i class="fa fa-twitter"></i></a>
      <a href="https://github.com/3wweiweiwu/bluestone" rel="external nofollow noreferrer" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/docs/" class="mobile-nav-link">Docs</a><a href="/news/" class="mobile-nav-link">News</a><a href="/about/" class="mobile-nav-link">About</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/3wweiweiwu/bluestone" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">Getting Started</strong><a href="index.html" class="mobile-nav-link current">Overview</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="docs/index.html">
      
        <option value="en" selected>English</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- Cookie -->
<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
<!-- build:js build/js/main.js -->

<script src="/js/lang_select.js"></script>

<script src="js/lang_select">

<script src="/js/mobile_nav.js"></script>

<script src="js/mobile_nav">
<!-- endbuild -->

<!-- Algolia -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
<script type="text/javascript">
document.getElementById('search-input-wrap').classList.add('on');
docsearch({
  apiKey: 'c3d5d4c995b5e0c2ffb5623900279a66',
  indexName: 'hexo',
  inputSelector: '#search-input'
});
</script>


</body>
</html>